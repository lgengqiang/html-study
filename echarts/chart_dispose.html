<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Dispose - ECharts</title>

    <!-- Bootstrap 5.1.3 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>

    <!-- jQuery 3.6.0 -->
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script>

    <!-- ECharts 5.3.2 -->
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.3.2/dist/echarts.min.js"></script>
</head>
</head>

<body>
    <div class="container-sm">

        <h3 class="mt-3 text-primary">Dispose - ECharts</h3>

        <h6 class="mt-1">Example</h6>
        <div id="chart" class="mt-3 mx-auto" style="width: 400px; height: 300px;"></div>

        <button type="button" id="buttonDispose" class="btn btn-primary">Dispose</button>
        <button type="button" id="buttonShow" class="btn btn-default">Show</button>

        <div class="mb-3"></div>

    </div>

    <script type="text/javascript">

        $(function () {

            showChart(echarts.init(document.getElementById("chart")));

            $("#buttonDispose").click(function () {
                var chart = echarts.init(document.getElementById("chart"));
                chart.dispose();
            });

            $("#buttonShow").click(function () {
                showChart(echarts.init(document.getElementById("chart")));
            });

        });

        function showChart(chart) {
            chart.setOption({
                tooltip: {
                    trigger: "axis",
                    axisPointer: {
                        type: "shadow"
                    }
                },
                xAxis: {
                    type: "category",
                    data: ["Mon", "Tue", "Wed", "Thu", "Fri", "Sat", "Sun"]
                },
                yAxis: {
                    type: "value"
                },
                series: [
                    {
                        data: [120, 200, 150, 80, 70, 110, 130],
                        type: "bar",
                        barWidth: "50%",
                        label: {
                            show: true,
                            position: "insideBottom"
                        }
                    }
                ]
            });
        }
    </script>

</body>

</html>